<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFmpeg GUI Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background 0.3s ease, color 0.3s ease; /* Dla płynnego przejścia dark mode */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            backdrop-filter: blur(10px);
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            transition: background 0.3s ease;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            transition: color 0.3s ease;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 20px;
            transition: opacity 0.3s ease;
        }

        /* OS Selector */
        .os-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .os-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 12px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .os-option:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .os-option.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.7);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.2);
        }

        .os-icon {
            font-size: 1.2em;
        }

        .os-info {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .main-content {
            padding: 40px;
        }

        .operation-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .operation-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .operation-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            transition: left 0.5s;
        }

        .operation-card:hover::before {
            left: 100%;
        }

        .operation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .operation-card.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #f5f7ff 0%, #e8f2ff 100%);
        }

        .operation-card h3 {
            color: #2a5298;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .operation-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .options-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        .options-panel.active {
            display: block;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .option-group {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: background 0.3s ease, border-left-color 0.3s ease;
        }

        .option-group h4 {
            color: #2a5298;
            margin-bottom: 15px;
            font-size: 1.1em;
            transition: color 0.3s ease;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            font-size: 0.9em;
            transition: color 0.3s ease;
        }

        input, select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
            color: #333;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .command-output {
            background: #1a1a1a;
            color: #00ff00;
            padding: 25px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            margin-bottom: 20px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
            border: 2px solid #333;
            position: relative;
            overflow-x: auto;
            transition: background 0.3s ease, color 0.3s ease, border 0.3s ease;
        }

        .command-output::before {
            content: '$ ';
            color: #ffff00;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .copy-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .copy-btn:active {
            transform: translateY(0);
        }

        .tips {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            transition: background 0.3s ease, border 0.3s ease;
        }

        .tips h3 {
            color: #856404;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }

        .tips ul {
            color: #856404;
            padding-left: 20px;
            transition: color 0.3s ease;
        }

        .tips li {
            margin-bottom: 5px;
        }

        /* Animated Tips Banner */
        .tips-banner {
            position: fixed;
            top: 20px;
            left: -100%;
            right: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 0 25px 25px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 80%;
            animation: slideIn 0.8s ease-out forwards, slideOut 0.8s ease-in 4.2s forwards;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: background 0.3s ease, border 0.3s ease;
        }

        .tips-banner.show {
            animation: slideIn 0.8s ease-out forwards, slideOut 0.8s ease-in 4.2s forwards;
        }

        @keyframes slideIn {
            from {
                left: -100%;
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                left: 20px;
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOut {
            from {
                left: 20px;
                opacity: 1;
                transform: translateX(0);
            }
            to {
                left: -100%;
                opacity: 0;
                transform: translateX(-20px);
            }
        }

        .tips-banner .tip-icon {
            font-size: 1.2em;
            margin-right: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        .tips-banner .tip-text {
            font-weight: 500;
            font-size: 0.95em;
            line-height: 1.4;
        }

        .tips-banner .tip-category {
            font-size: 0.75em;
            opacity: 0.8;
            margin-bottom: 3px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* File Picker Button Styles */
        .file-picker-btn {
            background: #e0e0e0;
            border: none;
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s ease;
            flex-shrink: 0; /* Zapobiega zmniejszaniu się przycisku */
        }

        .file-picker-btn:hover {
            background: #d0d0d0;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ecf0f1;
        }

        body.dark-mode .container {
            background: rgba(44, 62, 80, 0.95);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        body.dark-mode .header {
            background: linear-gradient(135deg, #1e2a36 0%, #293d4a 100%);
        }

        body.dark-mode .header h1 {
            color: #ecf0f0;
        }

        body.dark-mode .header p {
            color: #bdc3c7;
        }

        body.dark-mode .os-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .os-option:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        body.dark-mode .os-option.active {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .operation-card {
            background: #34495e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .operation-card::before {
            background: linear-gradient(90deg, transparent, rgba(76, 126, 234, 0.2), transparent);
        }

        body.dark-mode .operation-card:hover {
            border-color: #4CAF50; /* Zmieniony kolor na hover dla dark mode */
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
        }

        body.dark-mode .operation-card.active {
            border-color: #4CAF50;
            background: linear-gradient(135deg, #3a536b 0%, #4a6681 100%);
        }

        body.dark-mode .operation-card h3 {
            color: #ecf0f1;
        }

        body.dark-mode .operation-card p {
            color: #bdc3c7;
        }

        body.dark-mode .options-panel {
            background: #34495e;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .option-group {
            background: #3d566e;
            border-left-color: #4CAF50;
        }

        body.dark-mode .option-group h4 {
            color: #ecf0f1;
        }

        body.dark-mode label {
            color: #ecf0f1;
        }

        body.dark-mode input,
        body.dark-mode select {
            background: #2c3e50;
            border-color: #555;
            color: #ecf0f1;
        }

        body.dark-mode input:focus,
        body.dark-mode select:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        body.dark-mode .command-output {
            background: #0a0a0a;
            color: #00ff00;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
            border: 2px solid #555;
        }

        body.dark-mode .command-output::before {
            color: #ffff00;
        }

        body.dark-mode .copy-btn {
            background: linear-gradient(135deg, #4CAF50 0%, #66bb6a 100%);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        body.dark-mode .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }

        body.dark-mode .copy-btn.active {
            background: linear-gradient(135deg, #00897b 0%, #00796b 100%);
        }

        body.dark-mode .tips {
            background: linear-gradient(135deg, #424242 0%, #616161 100%);
            border: 1px solid #757575;
        }

        body.dark-mode .tips h3 {
            color: #e0e0e0;
        }

        body.dark-mode .tips ul {
            color: #bdc3c7;
        }

        body.dark-mode .tips-banner {
            background: linear-gradient(135deg, #4CAF50 0%, #66bb6a 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        body.dark-mode .file-picker-btn {
            background: #555;
            color: #eee;
        }

        body.dark-mode .file-picker-btn:hover {
            background: #777;
        }


        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .operation-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="tips-banner" id="tips-banner">
            <div class="tip-category" id="tip-category"></div>
            <div class="tip-content">
                <span class="tip-icon" id="tip-icon">💡</span>
                <span class="tip-text" id="tip-text"></span>
            </div>
        </div>

        <div class="header">
            <div class="os-info" id="os-info">🖥️ System: <span id="current-os">macOS</span></div>
            <h1>🎬 FFmpeg GUI Generator</h1>
            <p>Generuj komendy FFmpeg z łatwością - bez znajomości składni!</p>
            
            <button id="darkModeToggle" style="position: absolute; top: 15px; left: 20px; background: rgba(255,255,255,0.15); border: none; border-radius: 20px; padding: 8px 15px; color: white; cursor: pointer; font-size: 0.85em; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">🌙 Tryb Ciemny</button>

            <div class="os-selector">
                <div class="os-option active" data-os="macos">
                    <span class="os-icon">🍎</span>
                    <span>macOS</span>
                </div>
                <div class="os-option" data-os="windows">
                    <span class="os-icon">🪟</span>
                    <span>Windows</span>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="operation-selector">
                <div class="operation-card" data-operation="extract-subtitles">
                    <h3>📝 Wyciągnij Napisy</h3>
                    <p>Ekstraktuj napisy z filmów w różnych formatach (SRT, ASS, VTT)</p>
                </div>
                <div class="operation-card" data-operation="convert-video">
                    <h3>🔄 Konwertuj Wideo</h3>
                    <p>Zmień format, rozdzielczość, bitrate i inne parametry wideo</p>
                </div>
                <div class="operation-card" data-operation="extract-audio">
                    <h3>🎵 Wyciągnij Audio</h3>
                    <p>Ekstraktuj ścieżkę dźwiękową z plików wideo</p>
                </div>
                <div class="operation-card" data-operation="cut-video">
                    <h3>✂️ Przytnij Wideo</h3>
                    <p>Wytnij fragment wideo z określonego czasu</p>
                </div>
                <div class="operation-card" data-operation="merge-videos">
                    <h3>🔗 Połącz Wideo</h3>
                    <p>Połącz wiele plików wideo w jeden</p>
                </div>
                <div class="operation-card" data-operation="add-subtitles">
                    <h3>📄 Dodaj Napisy</h3>
                    <p>Wgraj napisy na stałe do pliku wideo</p>
                </div>
            </div>

            <div class="options-panel" id="extract-subtitles-panel">
                <div class="option-group">
                    <h4>Plik Źródłowy</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sub-input-file">Plik wejściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="sub-input-file" placeholder="np. film.mkv" value="film.mkv">
                                <button type="button" class="file-picker-btn" data-target="sub-input-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sub-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="sub-output-file" placeholder="np. napisy.srt" value="napisy.srt">
                                <button type="button" class="file-picker-btn" data-target="sub-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="option-group">
                    <h4>Opcje Napisów</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sub-stream">Strumień napisów:</label>
                            <select id="sub-stream">
                                <option value="0">Pierwszy (0:s:0)</option>
                                <option value="1">Drugi (0:s:1)</option>
                                <option value="2">Trzeci (0:s:2)</option>
                                <option value="all">Wszystkie</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sub-format">Format wyjściowy:</label>
                            <select id="sub-format">
                                <option value="srt">SRT</option>
                                <option value="ass">ASS</option>
                                <option value="vtt">VTT</option>
                                <option value="sup">SUP (PGS)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="options-panel" id="convert-video-panel">
                <div class="option-group">
                    <h4>Pliki</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="conv-input-file">Plik wejściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="conv-input-file" placeholder="np. film.mkv" value="film.mkv">
                                <button type="button" class="file-picker-btn" data-target="conv-input-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="conv-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="conv-output-file" placeholder="np. film.mp4" value="film.mp4">
                                <button type="button" class="file-picker-btn" data-target="conv-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="option-group">
                    <h4>Parametry Wideo</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="video-codec">Kodek wideo:</label>
                            <select id="video-codec">
                                <option value="libx264">H.264 (libx264)</option>
                                <option value="libx265">H.265 (libx265)</option>
                                <option value="libvpx-vp9">VP9</option>
                                <option value="copy">Kopiuj bez zmiany</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="video-bitrate">Bitrate wideo (kbps):</label>
                            <input type="number" id="video-bitrate" placeholder="np. 2000">
                        </div>
                        <div class="form-group">
                            <label for="video-resolution">Rozdzielczość:</label>
                            <select id="video-resolution">
                                <option value="">Bez zmiany</option>
                                <option value="1920x1080">1920x1080 (Full HD)</option>
                                <option value="1280x720">1280x720 (HD)</option>
                                <option value="854x480">854x480 (SD)</option>
                                <option value="640x360">640x360</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="option-group">
                    <h4>Parametry Audio</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="audio-codec">Kodek audio:</label>
                            <select id="audio-codec">
                                <option value="aac">AAC</option>
                                <option value="mp3">MP3</option>
                                <option value="libvorbis">Vorbis</option>
                                <option value="copy">Kopiuj bez zmiany</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="audio-bitrate">Bitrate audio (kbps):</label>
                            <input type="number" id="audio-bitrate" placeholder="np. 128">
                        </div>
                    </div>
                </div>
            </div>

            <div class="options-panel" id="extract-audio-panel">
                <div class="option-group">
                    <h4>Pliki</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="audio-input-file">Plik wejściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="audio-input-file" placeholder="np. film.mkv" value="film.mkv">
                                <button type="button" class="file-picker-btn" data-target="audio-input-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="audio-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="audio-output-file" placeholder="np. audio.mp3" value="audio.mp3">
                                <button type="button" class="file-picker-btn" data-target="audio-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="option-group">
                    <h4>Opcje Audio</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="extract-audio-codec">Format audio:</label>
                            <select id="extract-audio-codec">
                                <option value="mp3">MP3</option>
                                <option value="aac">AAC</option>
                                <option value="flac">FLAC</option>
                                <option value="wav">WAV</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="extract-audio-bitrate">Bitrate (kbps):</label>
                            <input type="number" id="extract-audio-bitrate" placeholder="128" value="128">
                        </div>
                    </div>
                </div>
            </div>

            <div class="options-panel" id="cut-video-panel">
                <div class="option-group">
                    <h4>Pliki</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cut-input-file">Plik wejściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="cut-input-file" placeholder="np. film.mkv" value="film.mkv">
                                <button type="button" class="file-picker-btn" data-target="cut-input-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cut-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="cut-output-file" placeholder="np. fragment.mp4" value="fragment.mp4">
                                <button type="button" class="file-picker-btn" data-target="cut-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="option-group">
                    <h4>Czas</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="start-time">Czas początkowy (HH:MM:SS):</label>
                            <input type="text" id="start-time" placeholder="np. 00:01:30" value="00:01:30">
                        </div>
                        <div class="form-group">
                            <label for="duration">Czas trwania (HH:MM:SS):</label>
                            <input type="text" id="duration" placeholder="np. 00:02:00" value="00:02:00">
                        </div>
                    </div>
                </div>
            </div>

            <div class="options-panel" id="merge-videos-panel">
                <div class="option-group">
                    <h4>Pliki do połączenia</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="merge-files">Pliki (oddzielone przecinkami):</label>
                            <input type="text" id="merge-files" placeholder="np. film1.mp4,film2.mp4,film3.mp4" value="film1.mp4,film2.mp4">
                        </div>
                        <div class="form-group">
                            <label for="merge-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="merge-output-file" placeholder="np. połączone.mp4" value="połączone.mp4">
                                <button type="button" class="file-picker-btn" data-target="merge-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="options-panel" id="add-subtitles-panel">
                <div class="option-group">
                    <h4>Pliki</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="add-sub-video-file">Plik wideo:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="add-sub-video-file" placeholder="np. film.mp4" value="film.mp4">
                                <button type="button" class="file-picker-btn" data-target="add-sub-video-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="add-sub-subtitle-file">Plik napisów:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="add-sub-subtitle-file" placeholder="np. napisy.srt" value="napisy.srt">
                                <button type="button" class="file-picker-btn" data-target="add-sub-subtitle-file">📁</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="add-sub-output-file">Plik wyjściowy:</label>
                            <div style="display: flex; gap: 10px;">
                                <input type="text" id="add-sub-output-file" placeholder="np. film_z_napisami.mp4" value="film_z_napisami.mp4">
                                <button type="button" class="file-picker-btn" data-target="add-sub-output-file">📁</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="command-output" id="command-output">
                Wybierz operację powyżej, aby wygenerować komendę FFmpeg
            </div>

            <button class="copy-btn" onclick="copyToClipboard()">📋 Skopiuj Komendę</button>

            <div class="tips">
                <h3>💡 Wskazówki:</h3>
                <ul>
                    <li>Sprawdź dostępne strumienie w pliku: <code>ffmpeg -i twoj_plik.mkv</code></li>
                    <li>Używaj względnych ścieżek lub pełnych ścieżek do plików</li>
                    <li>Dla lepszej jakości H.265 użyj niższego bitrate niż H.264</li>
                    <li>Zawsze testuj komendy na małych fragmentach przed przetwarzaniem całych plików</li>
                    <li>Użyj <code>-c copy</code> dla szybszego kopiowania bez re-enkodowania</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        let currentOperation = '';

        // Tips Database
        const tipsDatabase = {
            common: [
                {
                    category: "PODSTAWY",
                    icon: "🎬",
                    text: "Zawsze sprawdź informacje o pliku przed konwersją: ffmpeg -i twoj_plik.mkv"
                },
                {
                    category: "WYDAJNOŚĆ", 
                    icon: "⚡",
                    text: "Użyj -c copy do szybkiego kopiowania bez re-enkodowania - oszczędzi czas!"
                },
                {
                    category: "JAKOŚĆ",
                    icon: "🎯",
                    text: "H.265 daje lepszą jakość przy mniejszym rozmiarze, ale konwersja trwa dłużej"
                },
                {
                    category: "BEZPIECZEŃSTWO",
                    icon: "🛡️",
                    text: "Testuj komendy na małych fragmentach przed przetwarzaniem całych filmów"
                },
                {
                    category: "NAPISY",
                    icon: "📝",
                    text: "Pliki MKV mogą zawierać wiele napisów - sprawdź wszystkie dostępne strumienie"
                },
                {
                    category: "AUDIO",
                    icon: "🎵",
                    text: "AAC 128kbps to dobry kompromis między jakością a rozmiarem dla większości zastosowań"
                }
            ],
            macos: [
                {
                    category: "INSTALACJA",
                    icon: "🍺",
                    text: "Zainstaluj FFmpeg przez Homebrew: brew install ffmpeg - najłatwiejszy sposób!"
                },
                {
                    category: "TERMINAL",
                    icon: "💻",
                    text: "Otwórz Terminal (Cmd+Space → Terminal) i wklej wygenerowaną komendę"
                },
                {
                    category: "ŚCIEŻKI",
                    icon: "📁",
                    text: "Przeciągnij plik do Terminala aby automatycznie wkleić pełną ścieżkę"
                },
                {
                    category: "ALIASY",
                    icon: "⚡",
                    text: "Stwórz alias w ~/.zshrc: alias ff='ffmpeg' dla szybszego pisania"
                },
                {
                    category: "BATCH",
                    icon: "📦",
                    text: "macOS: for f in *.mkv; do ffmpeg -i \"$f\" \"${f%.mkv}.mp4\"; done"
                }
            ],
            windows: [
                {
                    category: "INSTALACJA",
                    icon: "⬇️",
                    text: "Pobierz FFmpeg z ffmpeg.org i dodaj do PATH lub użyj chocolatey: choco install ffmpeg"
                },
                {
                    category: "CMD",
                    icon: "💻",
                    text: "Otwórz Command Prompt (Win+R → cmd) lub PowerShell (Win+X → PowerShell)"
                },
                {
                    category: "ŚCIEŻKI",
                    icon: "📁",
                    text: "Użyj cudzysłowów dla ścieżek ze spacjami: \"C:\\Moje Filmy\\film.mkv\""
                },
                {
                    category: "POLSKIE ZNAKI",
                    icon: "🇵🇱",
                    text: "Problemy z polskimi znakami? Użyj chcp 65001 przed komendą FFmpeg"
                },
                {
                    category: "BATCH",
                    icon: "📦",
                    text: "Windows: for %f in (*.mkv) do ffmpeg.exe -i \"%f\" \"%~nf.mp4\""
                }
            ]
        };

        let currentOS = 'macos';

        let currentTipIndex = 0;
        let tipTimer;

        function showRandomTip() {
            // Combine common tips with OS-specific tips
            const allTips = [...tipsDatabase.common, ...tipsDatabase[currentOS]];
            
            // Get random tip
            const randomIndex = Math.floor(Math.random() * allTips.length);
            const tip = allTips[randomIndex];
            
            // Update banner content
            document.getElementById('tip-category').textContent = tip.category;
            document.getElementById('tip-icon').textContent = tip.icon;
            document.getElementById('tip-text').textContent = tip.text;
            
            // Show banner with animation
            const banner = document.getElementById('tips-banner');
            banner.classList.remove('show');
            void banner.offsetWidth; // Force reflow
            banner.classList.add('show');
        }

        // OS Selector handlers
        document.querySelectorAll('.os-option').forEach(option => {
            option.addEventListener('click', () => {
                // Remove active class from all options
                document.querySelectorAll('.os-option').forEach(opt => opt.classList.remove('active'));
                
                // Add active class to clicked option
                option.classList.add('active');
                
                // Update current OS
                currentOS = option.dataset.os;
                document.getElementById('current-os').textContent = currentOS === 'macos' ? 'macOS' : 'Windows';
                
                // Update placeholders and regenerate command
                updatePlaceholders();
                generateCommand();
            });
        });

        function updatePlaceholders() {
            const isWindows = currentOS === 'windows';
            
            // Update file input placeholders based on OS
            const placeholders = {
                // Zmienione ścieżki dla macOS
                'sub-input-file': isWindows ? 'C:\\Videos\\film.mkv' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mkv',
                'sub-output-file': isWindows ? 'C:\\Videos\\napisy.srt' : '/Users/chottodare/Desktop/nazwaFOLDERU/napisy.srt',
                'conv-input-file': isWindows ? 'C:\\Videos\\film.mkv' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mkv', 
                'conv-output-file': isWindows ? 'C:\\Videos\\film.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mp4',
                'audio-input-file': isWindows ? 'C:\\Videos\\film.mkv' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mkv',
                'audio-output-file': isWindows ? 'C:\\Videos\\audio.mp3' : '/Users/chottodare/Desktop/nazwaFOLDERU/audio.mp3',
                'cut-input-file': isWindows ? 'C:\\Videos\\film.mkv' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mkv',
                'cut-output-file': isWindows ? 'C:\\Videos\\fragment.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/fragment.mp4',
                'merge-files': isWindows ? 'C:\\Videos\\film1.mp4,C:\\Videos\\film2.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/film1.mp4,/Users/chottodare/Desktop/nazwaFOLDERU/film2.mp4',
                'merge-output-file': isWindows ? 'C:\\Videos\\połączone.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/połączone.mp4',
                'add-sub-video-file': isWindows ? 'C:\\Videos\\film.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/film.mp4',
                'add-sub-subtitle-file': isWindows ? 'C:\\Videos\\napisy.srt' : '/Users/chottodare/Desktop/nazwaFOLDERU/napisy.srt',
                'add-sub-output-file': isWindows ? 'C:\\Videos\\film_z_napisami.mp4' : '/Users/chottodare/Desktop/nazwaFOLDERU/film_z_napisami.mp4'
            };
            
            // Update all placeholders
            Object.keys(placeholders).forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.placeholder = placeholders[id];
                    // Update value only if it's still the default (or contains old placeholder text)
                    if (element.value === '' || element.value.includes('~/Movies/') || element.value.includes('C:\\Videos\\') || element.value === element.placeholder.split(/[\/\\]/).pop()) {
                        element.value = placeholders[id].split(/[\/\\]/).pop(); // Keeps just the filename for cleaner look
                    }
                }
            });
        }

        function formatPath(path) {
            if (!path) return '';
            
            // If it's just a filename, return as-is
            if (!path.includes('/') && !path.includes('\\')) {
                return `"${path}"`;
            }
            
            // For full paths, always use quotes for safety
            return `"${path}"`;
        }

        function startTipsRotation() {
            // Show first tip after 2 seconds
            setTimeout(() => {
                showRandomTip();
                
                // Then show new tip every 8 seconds
                tipTimer = setInterval(showRandomTip, 8000);
            }, 2000);
        }

        // Operation card click handlers
        document.querySelectorAll('.operation-card').forEach(card => {
            card.addEventListener('click', () => {
                // Remove active class from all cards and panels
                document.querySelectorAll('.operation-card').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.options-panel').forEach(p => p.classList.remove('active'));
                
                // Add active class to clicked card
                card.classList.add('active');
                
                // Show corresponding panel
                currentOperation = card.dataset.operation;
                document.getElementById(currentOperation + '-panel').classList.add('active');
                
                // Generate initial command
                generateCommand();
            });
        });

        // Add event listeners to all form inputs
        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('input', generateCommand);
            input.addEventListener('change', generateCommand);
        });

        // File picker button handlers
        document.querySelectorAll('.file-picker-btn').forEach(button => {
            button.addEventListener('click', async () => {
                const targetInputId = button.dataset.target;
                const targetInput = document.getElementById(targetInputId);

                // Create a hidden file input element
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.style.display = 'none'; // Hide the input

                // Listen for file selection
                fileInput.addEventListener('change', () => {
                    if (fileInput.files.length > 0) {
                        const file = fileInput.files[0];
                        // In a web browser, file.path is not available for security reasons.
                        // You'll get file.name. For Electron/NW.js, file.path would work.
                        const filePath = file.name; // This will only give the filename in browsers
                        targetInput.value = filePath;
                        generateCommand(); // Regenerate command after selecting file
                    }
                    document.body.removeChild(fileInput); // Clean up the hidden input
                });

                // Append to body and programmatically click it to open the file dialog
                document.body.appendChild(fileInput);
                fileInput.click();
            });
        });


        function generateCommand() {
            let command = '';
            
            switch(currentOperation) {
                case 'extract-subtitles':
                    command = generateSubtitlesCommand();
                    break;
                case 'convert-video':
                    command = generateConvertCommand();
                    break;
                case 'extract-audio':
                    command = generateExtractAudioCommand();
                    break;
                case 'cut-video':
                    command = generateCutVideoCommand();
                    break;
                case 'merge-videos':
                    command = generateMergeVideosCommand();
                    break;
                case 'add-subtitles':
                    command = generateAddSubtitlesCommand();
                    break;
            }
            
            document.getElementById('command-output').textContent = command;
        }

        function generateSubtitlesCommand() {
            const inputFile = document.getElementById('sub-input-file').value || 'film.mkv';
            const outputFile = document.getElementById('sub-output-file').value || 'napisy.srt';
            const stream = document.getElementById('sub-stream').value;
            const format = document.getElementById('sub-format').value;
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            
            if (stream === 'all') {
                return `${ffmpegCmd} -i ${formatPath(inputFile)} -map 0:s -c:s copy napisy_%d.${format}`;
            } else {
                return `${ffmpegCmd} -i ${formatPath(inputFile)} -map 0:s:${stream} -c:s copy ${formatPath(outputFile)}`;
            }
        }

        function generateConvertCommand() {
            const inputFile = document.getElementById('conv-input-file').value || 'film.mkv';
            const outputFile = document.getElementById('conv-output-file').value || 'film.mp4';
            const videoCodec = document.getElementById('video-codec').value;
            const videoBitrate = document.getElementById('video-bitrate').value;
            const videoResolution = document.getElementById('video-resolution').value;
            const audioCodec = document.getElementById('audio-codec').value;
            const audioBitrate = document.getElementById('audio-bitrate').value;
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            let command = `${ffmpegCmd} -i ${formatPath(inputFile)}`;
            
            if (videoCodec) command += ` -c:v ${videoCodec}`;
            if (videoBitrate) command += ` -b:v ${videoBitrate}k`;
            if (videoResolution) command += ` -s ${videoResolution}`;
            if (audioCodec) command += ` -c:a ${audioCodec}`;
            if (audioBitrate) command += ` -b:a ${audioBitrate}k`;
            
            command += ` ${formatPath(outputFile)}`;
            return command;
        }

        function generateExtractAudioCommand() {
            const inputFile = document.getElementById('audio-input-file').value || 'film.mkv';
            const outputFile = document.getElementById('audio-output-file').value || 'audio.mp3';
            const audioCodec = document.getElementById('extract-audio-codec').value;
            const audioBitrate = document.getElementById('extract-audio-bitrate').value || '128';
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            return `${ffmpegCmd} -i ${formatPath(inputFile)} -vn -acodec ${audioCodec} -ab ${audioBitrate}k ${formatPath(outputFile)}`;
        }

        function generateCutVideoCommand() {
            const inputFile = document.getElementById('cut-input-file').value || 'film.mkv';
            const outputFile = document.getElementById('cut-output-file').value || 'fragment.mp4';
            const startTime = document.getElementById('start-time').value || '00:01:30';
            const duration = document.getElementById('duration').value || '00:02:00';
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            return `${ffmpegCmd} -i ${formatPath(inputFile)} -ss ${startTime} -t ${duration} -c copy ${formatPath(outputFile)}`;
        }

        function generateMergeVideosCommand() {
            const files = document.getElementById('merge-files').value || 'film1.mp4,film2.mp4';
            const outputFile = document.getElementById('merge-output-file').value || 'połączone.mp4';
            const fileList = files.split(',').map(f => f.trim());
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            let command = ffmpegCmd;
            fileList.forEach(file => {
                command += ` -i ${formatPath(file)}`;
            });
            command += ` -filter_complex "`;
            for (let i = 0; i < fileList.length; i++) {
                command += `[${i}:v] [${i}:a] `;
            }
            command += `concat=n=${fileList.length}:v=1:a=1 [v] [a]" -map "[v]" -map "[a]" ${formatPath(outputFile)}`;
            
            return command;
        }

        function generateAddSubtitlesCommand() {
            const videoFile = document.getElementById('add-sub-video-file').value || 'film.mp4';
            const subtitleFile = document.getElementById('add-sub-subtitle-file').value || 'napisy.srt';
            const outputFile = document.getElementById('add-sub-output-file').value || 'film_z_napisami.mp4';
            
            const ffmpegCmd = currentOS === 'windows' ? 'ffmpeg.exe' : 'ffmpeg';
            return `${ffmpegCmd} -i ${formatPath(videoFile)} -i ${formatPath(subtitleFile)} -c copy -c:s mov_text ${formatPath(outputFile)}`;
        }

        function copyToClipboard() {
            const commandText = document.getElementById('command-output').textContent;
            navigator.clipboard.writeText(commandText).then(() => {
                const button = document.querySelector('.copy-btn');
                const originalText = button.textContent;
                button.textContent = '✅ Skopiowano!';
                button.style.background = 'linear-gradient(135deg, #00b894 0%, #00a085 100%)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                }, 2000);
            });
        }

        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;

        // Function to set/unset dark mode class
        function setDarkMode(isDark) {
            if (isDark) {
                body.classList.add('dark-mode');
                darkModeToggle.textContent = '☀️ Tryb Jasny';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                body.classList.remove('dark-mode');
                darkModeToggle.textContent = '🌙 Tryb Ciemny';
                localStorage.setItem('darkMode', 'disabled');
            }
        }

        // Check user preferences from localStorage or set dark mode by default
        const savedDarkMode = localStorage.getItem('darkMode');
        if (savedDarkMode === 'enabled' || savedDarkMode === null) { // Default to dark mode if not set
            setDarkMode(true);
        } else {
            setDarkMode(false);
        }

        darkModeToggle.addEventListener('click', () => {
            setDarkMode(!body.classList.contains('dark-mode'));
        });


        // Initialize with first operation
        document.querySelector('.operation-card').click();
        
        // Update placeholders on startup
        updatePlaceholders();
        
        // Start tips rotation
        startTipsRotation();
    </script>
</body>
</html>